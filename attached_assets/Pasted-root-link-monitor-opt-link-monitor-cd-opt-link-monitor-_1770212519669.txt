root@link-monitor:/opt/link-monitor# cd /opt/link-monitor && git pull && npm install && npm run build && npm run db:push && systemctl restart link-monitor
remote: Enumerating objects: 10, done.
remote: Counting objects: 100% (10/10), done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 6 (delta 3), reused 6 (delta 3), pack-reused 0 (from 0)
Unpacking objects: 100% (6/6), 2.91 KiB | 229.00 KiB/s, done.
From https://github.com/Marvitel/Link-Watcher-Pro
   2131d3ca..f4a5b36a  main       -> origin/main
Auto packing the repository in background for optimum performance.
See "git help gc" for manual housekeeping.
warning: The last gc run reported the following. Please correct the root cause
and remove .git/gc.log
Automatic cleanup will not be performed until the file is removed.

error: Could not read 589f21795afe8acdf7f3bfc2b64c21e0398f49c1
fatal: Failed to traverse parents of commit 5e7475429a989611c252ba06dfb3e0f9c241066a
fatal: failed to run repack

Updating 2131d3ca..f4a5b36a
Fast-forward
Auto packing the repository in background for optimum performance.
See "git help gc" for manual housekeeping.
warning: The last gc run reported the following. Please correct the root cause
and remove .git/gc.log
Automatic cleanup will not be performed until the file is removed.

error: Could not read 589f21795afe8acdf7f3bfc2b64c21e0398f49c1
fatal: Failed to traverse parents of commit 5e7475429a989611c252ba06dfb3e0f9c241066a
fatal: failed to run repack

 attached_assets/Pasted-root-link-monitor-opt-link-monitor-cd-opt-link-monitor-_1770212361985.txt | 116 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 script/build.ts                                                                                  |   1 +
 2 files changed, 117 insertions(+)
 create mode 100644 attached_assets/Pasted-root-link-monitor-opt-link-monitor-cd-opt-link-monitor-_1770212361985.txt

up to date, audited 550 packages in 4s

70 packages are looking for funding
  run `npm fund` for details

6 vulnerabilities (1 moderate, 3 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.

> rest-express@1.0.0 build
> tsx script/build.ts

building client...
vite v7.3.0 building client environment for production...

A PostCSS plugin did not pass the `from` option to `postcss.parse`. This may cause imported assets to be incorrectly transformed. If you've recently added a PostCSS plugin that raised this warning, please contact the package author to fix the issue.
✓ 3479 modules transformed.
../dist/public/index.html                              0.90 kB │ gzip:   0.49 kB
../dist/public/assets/index-CgBXtQXn.css              90.72 kB │ gzip:  14.85 kB
../dist/public/assets/purify.es-Bzr520pe.js           22.45 kB │ gzip:   8.63 kB
../dist/public/assets/index.es-DtSpMe0L.js           158.55 kB │ gzip:  52.90 kB
../dist/public/assets/html2canvas.esm-DXEQVQnt.js    201.04 kB │ gzip:  47.43 kB
../dist/public/assets/index-D4YcogRP.js            2,231.24 kB │ gzip: 607.37 kB

(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
✓ built in 29.52s
building server...
▲ [WARNING] Using direct eval with a bundler is not recommended and may cause problems [direct-eval]

    server/snmp.ts:1115:19:
      1115 │     const result = eval(formula);
           ╵                    ~~~~

  You can read more about direct eval and bundling here: https://esbuild.github.io/link/direct-eval

✘ [ERROR] Could not resolve "source-map-support"

    node_modules/routeros-client/dist/index.js:14:37:
      14 │     const sourceMapSupport = require("source-map-support");
         ╵                                      ~~~~~~~~~~~~~~~~~~~~

  You can mark the path "source-map-support" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle. You can also surround this
  "require" call with a try/catch block to handle this failure at run-time instead of bundle-time.

✘ [ERROR] Could not resolve "source-map-support"

    node_modules/node-routeros/dist/index.js:7:37:
      7 │     const sourceMapSupport = require('source-map-support');
        ╵                                      ~~~~~~~~~~~~~~~~~~~~

  You can mark the path "source-map-support" as external to exclude it from the bundle, which will
  remove this error and leave the unresolved path in the bundle. You can also surround this
  "require" call with a try/catch block to handle this failure at run-time instead of bundle-time.

1 warning and 2 errors
Error: Build failed with 2 errors:
node_modules/node-routeros/dist/index.js:7:37: ERROR: Could not resolve "source-map-support"
node_modules/routeros-client/dist/index.js:14:37: ERROR: Could not resolve "source-map-support"
    at failureErrorWithLog (/opt/link-monitor/node_modules/esbuild/lib/main.js:1467:15)
    at /opt/link-monitor/node_modules/esbuild/lib/main.js:926:25
    at /opt/link-monitor/node_modules/esbuild/lib/main.js:878:52
    at buildResponseToResult (/opt/link-monitor/node_modules/esbuild/lib/main.js:924:7)
    at /opt/link-monitor/node_modules/esbuild/lib/main.js:951:16
    at responseCallbacks.<computed> (/opt/link-monitor/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/opt/link-monitor/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/opt/link-monitor/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:524:28)
    at addChunk (node:internal/streams/readable:561:12) {
  errors: [Getter/Setter],
  warnings: [Getter/Setter]
}
root@link-monitor:/opt/link-monitor# 